Ok mira, ya el envio funciona perfecto. Si se envió el msj de prueba que creé manualmente, ahora, me gustaría que se integrara todo correctamente...

Que esa tabla BandejaEnvioSMS se llene con los datos que correspondan con la info que obtenemos de CRM 



SELECT [IdRow]
      ,[NumeroTarjeta] - El numero de tarjeta que se le envia de parametro a AS400
      ,[SMS] - El contenido que nos mande CRM en el primer ingreso de info .. el campo se llama ContenidoSMS
      ,[Celular] - El celular que nos mande CRM en el primero ingreso de info .. el campo se llama Telefono
      ,[Telco] - El operador que mande CRM si D o E .. aunque no se como podra funcionar esto ya que ... tambien tengo una tabla de operadores
      ,[Referencia] - creo que esta hay que irla colocando nosotros
      ,[FechaInicio]
      ,[FechaFinal]
      ,[TipoTarjeta] - pues deberia ser TDC porque es de credito, pero no se como podemos hacer para que sea "parametrizable o no quemarlo al menos"
      ,[Estado] -0 cuando se cree y 1 cuando ya fue enviado
      ,[DescripcionEstado] - ENVIADO o NO ENVIADO
  FROM [ReposicionPinTC].[dbo].[BandejaEnvioSMS]



Tambien tomar en cuenta que ... debo pasar a historicos ...

pero no se como hacerlo ...
SELECT TOP (1000) [IdRow]
      ,[NumeroTarjeta]
      ,[SMS]
      ,[Celular]
      ,[Telco]
      ,[Referencia]
      ,[FechaInicio]
      ,[FechaFinal]
      ,[TipoTarjeta]
      ,[Estado]
      ,[DescripcionEstado]
  FROM [ReposicionPinTC].[dbo].[BandejaEnvioSMSHistorico]
