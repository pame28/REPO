public async Task<(int Codigo, string Mensaje)> EnviarAsync(TarjetaModel tarjeta, ReposicionPinRequestDto request, string pin)
{
    try
    {
        if (request.MetodoEnvio == 1)
        {
            // Enviar SMS y guardar en BD
            await _bandejaSmsRepository.AddAsync(...);
        }
        else
        {
            // Enviar correo y guardar en BD
            await _bandejaEmailRepository.AddAsync(...);
        }

        return (0, "Env√≠o exitoso");
    }
    catch (Exception ex)
    {
        return (8, ex.Message);
    }
}